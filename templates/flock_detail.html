{% extends "base.html" %}
{% block content %}
<h4 class="fw-bold mb-1">{{ f.name }}</h4>
<div class="text-muted mb-3">Jumlah awal: {{ f.initial_count }}</div>

<div class="card shadow-sm mb-3">
  <div class="card-body">
    <form class="row g-2" method="post" action="{{ url_for('flock_add_log', flock_id=f.id) }}">
      <div class="col-md-2">
        <label class="form-label small">Tanggal</label>
        <input type="date" name="tgl" class="form-control form-control-sm">
      </div>
      <div class="col-md-2">
        <label class="form-label small">Telur (butir)</label>
        <input name="eggs_count" class="form-control form-control-sm" value="0">
      </div>
      <div class="col-md-2">
        <label class="form-label small">Ayam mati</label>
        <input name="dead_count" class="form-control form-control-sm" value="0">
      </div>
      <div class="col-md-6">
        <label class="form-label small">Catatan</label>
        <input name="note" class="form-control form-control-sm" placeholder="contoh: vaksin / cuaca / pakan">
      </div>
      <div class="col-12">
        <button class="btn btn-dark btn-sm">Simpan Log</button>
      </div>
    </form>
  </div>
</div>

<div class="card shadow-sm">
  <div class="table-responsive">
    <table class="table table-sm align-middle m-0">
      <thead><tr><th>Tgl</th><th class="text-end">Telur</th><th class="text-end">Mati</th><th>Catatan</th></tr></thead>
      <tbody>
        {% for r in logs %}
        <tr>
          <td>{{ r.tgl }}</td>
          <td class="text-end">{{ r.eggs_count }}</td>
          <td class="text-end">{{ r.dead_count }}</td>
          <td class="text-muted">{{ r.note }}</td>
        </tr>
        {% endfor %}
        {% if logs|length == 0 %}
        <tr><td colspan="4" class="text-muted">Belum ada log.</td></tr>
        {% endif %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
